(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[719],{310:function(e,t,a){Promise.resolve().then(a.bind(a,9768))},9768:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Page}});var r=a(7437),s=a(2265),l=a(1865),n=a(8110),i=a(2173),o=a(4578),c=a(459),d=a(1908),h=a(3023),u=a(8094);let x=o.Ry({material:o.Z_(),comment:o.Z_(),quantity:o.Rx(),status:o.Z_(),soldate:o.Z_(),packagework:o.Z_(),tecnico:o.Z_()});var new_order_card=e=>{let{onSubmit:t}=e,[a,o]=(0,s.useState)([]),[m,g]=(0,s.useState)([]),j=(0,l.cI)({resolver:(0,n.F)(x),defaultValues:{status:"Pendiente"}});return(0,s.useEffect)(()=>{async function equipoData(){try{let e=await i.Z.get("http://45.173.228.31/api/get-data/1UliJqH6oNuZEk6l72r7alxHe5QOyYGS6ZzS8NtyfYP4/EQUIPO");g(e.data)}catch(e){console.error("Error fetching data:",e)}}(async function(){try{let e=await i.Z.get("http://45.173.228.31/api/get-data/1UliJqH6oNuZEk6l72r7alxHe5QOyYGS6ZzS8NtyfYP4/MATERIAL_STOCK");o(e.data)}catch(e){console.error("Error fetching data:",e)}})(),equipoData()},[]),(0,r.jsx)("div",{className:"max-w-md w-full",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Nueva Orden"}),(0,r.jsx)(c.l0,{...j,children:(0,r.jsxs)("form",{onSubmit:j.handleSubmit(e=>{t(e)}),className:"flex flex-col gap-4",children:[(0,r.jsx)(c.Wi,{control:j.control,name:"material",render:e=>{let{field:t}=e;return(0,r.jsxs)(c.xJ,{children:[(0,r.jsx)(c.lX,{children:"Material Solicitado"}),(0,r.jsxs)(u.Ph,{onValueChange:t.onChange,children:[(0,r.jsx)(c.NI,{children:(0,r.jsx)(u.i4,{children:(0,r.jsx)(u.ki,{placeholder:"Seleccionar un Material"})})}),(0,r.jsx)(u.Bw,{children:a.filter(e=>""!==e.Material.trim()).map(e=>(0,r.jsx)(u.Ql,{value:e.Material,children:e.Material},e.id))})]}),(0,r.jsx)(c.zG,{})]})}}),(0,r.jsx)(c.Wi,{control:j.control,name:"quantity",render:e=>{let{field:t}=e;return(0,r.jsxs)(c.xJ,{children:[(0,r.jsx)(c.lX,{children:"Cantidad"}),(0,r.jsx)(c.NI,{children:(0,r.jsx)(d.I,{type:"number",...t,onChange:e=>{let a=parseInt(e.target.value);t.onChange(a)}})}),(0,r.jsx)(c.zG,{})]})}}),(0,r.jsx)(c.Wi,{control:j.control,name:"comment",render:e=>{let{field:t}=e;return(0,r.jsxs)(c.xJ,{children:[(0,r.jsx)(c.lX,{children:"Observaci\xf3n"}),(0,r.jsx)(c.NI,{children:(0,r.jsx)(d.I,{type:"text",...t})}),(0,r.jsx)(c.zG,{})]})}}),(0,r.jsx)(c.Wi,{control:j.control,name:"soldate",render:e=>{let{field:t}=e;return(0,r.jsxs)(c.xJ,{children:[(0,r.jsx)(c.lX,{children:"Fecha Solicitada"}),(0,r.jsx)(c.NI,{children:(0,r.jsx)(d.I,{type:"date",...t})}),(0,r.jsx)(c.zG,{})]})}}),(0,r.jsx)(c.Wi,{control:j.control,name:"packagework",render:e=>{let{field:t}=e;return(0,r.jsxs)(c.xJ,{children:[(0,r.jsx)(c.lX,{children:"Paquete de Trabajo"}),(0,r.jsx)(c.NI,{children:(0,r.jsx)(d.I,{type:"text",...t})}),(0,r.jsx)(c.zG,{})]})}}),(0,r.jsx)(c.Wi,{control:j.control,name:"tecnico",render:e=>{let{field:t}=e;return(0,r.jsxs)(c.xJ,{children:[(0,r.jsx)(c.lX,{children:"T\xe9cnico Responsable"}),(0,r.jsxs)(u.Ph,{onValueChange:t.onChange,children:[(0,r.jsx)(c.NI,{children:(0,r.jsx)(u.i4,{children:(0,r.jsx)(u.ki,{placeholder:"Seleccionar un T\xe9cnico"})})}),(0,r.jsx)(u.Bw,{children:m.filter(e=>""!==e.Nombre.trim()).map(e=>(0,r.jsx)(u.Ql,{value:e.Nombre,children:e.Nombre},e.id))})]}),(0,r.jsx)(c.zG,{})]})}}),(0,r.jsx)(h.z,{type:"submit",className:"w-full",children:"Crear"})]})})]})})},m=a(4315),g=a(4196),j=a(7472),f=a(6434);let p=[{accessorKey:"udf",header:e=>{let{column:t}=e;return(0,r.jsxs)(h.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:[".",(0,r.jsx)(g.Z,{className:"ml-2 h-4 w-4"})]})}},{accessorKey:"Material Solicitado",header:e=>{let{column:t}=e;return(0,r.jsxs)(h.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Material Solicitado",(0,r.jsx)(g.Z,{className:"ml-2 h-4 w-4"})]})}},{accessorKey:"Cantidad",header:e=>{let{column:t}=e;return(0,r.jsxs)(h.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Cantidad",(0,r.jsx)(g.Z,{className:"ml-2 h-4 w-4"})]})}},{accessorKey:"Observaci\xf3n",header:e=>{let{column:t}=e;return(0,r.jsxs)(h.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Observaci\xf3n",(0,r.jsx)(g.Z,{className:"ml-2 h-4 w-4"})]})}},{accessorKey:"Fecha solicitada",header:e=>{let{column:t}=e;return(0,r.jsxs)(h.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Fecha solicitada",(0,r.jsx)(g.Z,{className:"ml-2 h-4 w-4"})]})}},{accessorKey:"Paquete de Trabajo",header:e=>{let{column:t}=e;return(0,r.jsxs)(h.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Paquete de Trabajo",(0,r.jsx)(g.Z,{className:"ml-2 h-4 w-4"})]})}},{accessorKey:"T\xe9cnico Responsable",header:e=>{let{column:t}=e;return(0,r.jsxs)(h.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["T\xe9cnico Responsable",(0,r.jsx)(g.Z,{className:"ml-2 h-4 w-4"})]})}},{accessorKey:"Status Entrega",header:e=>{let{column:t}=e;return(0,r.jsxs)(h.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Status Entrega",(0,r.jsx)(g.Z,{className:"ml-2 h-4 w-4"})]})}},{accessorKey:"Bodega",header:e=>{let{column:t}=e;return(0,r.jsxs)(h.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Bodega",(0,r.jsx)(g.Z,{className:"ml-2 h-4 w-4"})]})}},{accessorKey:"C\xf3digo",header:e=>{let{column:t}=e;return(0,r.jsxs)(h.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["C\xf3digo",(0,r.jsx)(g.Z,{className:"ml-2 h-4 w-4"})]})}},{accessorKey:"Fecha de entrega",header:e=>{let{column:t}=e;return(0,r.jsxs)(h.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Fecha de entrega",(0,r.jsx)(g.Z,{className:"ml-2 h-4 w-4"})]})}},{accessorKey:"Cantidad Entregada",header:e=>{let{column:t}=e;return(0,r.jsxs)(h.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Cantidad Entregada",(0,r.jsx)(g.Z,{className:"ml-2 h-4 w-4"})]})}},{id:"actions",cell:e=>{let{row:t}=e,a=t.original;return(0,r.jsxs)(f.h_,{children:[(0,r.jsx)(f.$F,{asChild:!0,children:(0,r.jsxs)(h.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,r.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,r.jsx)(j.Z,{className:"h-4 w-4"})]})}),(0,r.jsxs)(f.AW,{align:"end",children:[(0,r.jsx)(f.Ju,{children:"Actions"}),(0,r.jsx)(f.Xi,{onClick:()=>navigator.clipboard.writeText(a.id),children:"Copiar ID"}),(0,r.jsx)(f.VD,{}),(0,r.jsx)(f.Xi,{children:"View customer"}),(0,r.jsx)(f.Xi,{children:"View payment details"})]})]})}}];var N=a(8578);async function fetchData(){try{let e=await i.Z.get("http://45.173.228.31/api/get-orders/1UliJqH6oNuZEk6l72r7alxHe5QOyYGS6ZzS8NtyfYP4/PEDIDOS");return e.data}catch(e){throw console.error("Error fetching data:",e),e}}function Page(){let[e,t]=s.useState(null),[a,l]=s.useState([]),{toast:n}=(0,N.pm)();s.useEffect(()=>{fetchData().then(e=>l(e))},[]);let handleSubmit=async e=>{try{let a={unuse:"",material:e.material,quantity:e.quantity,comment:e.comment,soldate:e.soldate,packagework:e.packagework,tecnico:e.tecnico,status:e.status},r=await i.Z.post("http://45.173.228.31/api/get-data/1UliJqH6oNuZEk6l72r7alxHe5QOyYGS6ZzS8NtyfYP4/PEDIDOS",a);n({title:"Exito!",description:"Usuario creado Exitosamente."}),console.log("POST Response:",r.data),fetchData().then(e=>l(e)),t(e)}catch(e){throw n({title:"Error!",description:"Upps... Algo salio mal"}),console.error("Error submitting form:",e),e}};return(0,r.jsx)("section",{className:"py-24",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,r.jsx)("div",{children:(0,r.jsx)(new_order_card,{onSubmit:handleSubmit})}),(0,r.jsx)("div",{children:(0,r.jsx)(m.DataTable,{columns:p,data:a})})]})})})}},4315:function(e,t,a){"use strict";a.r(t),a.d(t,{DataTable:function(){return DataTable}});var r=a(7437),s=a(2265),l=a(3216),n=a(7660),i=a(2553),o=a(6434),c=a(3023),d=a(1908);function DataTable(e){var t,a,h;let{columns:u,data:x}=e,[m,g]=(0,s.useState)([]),[j,f]=(0,s.useState)([]),[p,N]=(0,s.useState)({}),S=(0,l.b7)({data:x,columns:u,state:{sorting:m,columnFilters:j,columnVisibility:p},onSortingChange:g,onColumnFiltersChange:f,onColumnVisibilityChange:N,getCoreRowModel:(0,n.sC)(),getSortedRowModel:(0,n.tj)(),getFilteredRowModel:(0,n.vL)(),getPaginationRowModel:(0,n.G_)()});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex items-center py-4",children:(0,r.jsx)(d.I,{placeholder:"Buscar por Material Solicitado...",value:null!==(h=null===(t=S.getColumn("Material Solicitado"))||void 0===t?void 0:t.getFilterValue())&&void 0!==h?h:"",onChange:e=>{var t;return null===(t=S.getColumn("Material Solicitado"))||void 0===t?void 0:t.setFilterValue(e.target.value)},className:"max-w-sm"})}),(0,r.jsxs)(o.h_,{children:[(0,r.jsx)(o.$F,{asChild:!0,children:(0,r.jsx)(c.z,{variant:"outline",className:"ml-auto",children:"Columnas"})}),(0,r.jsx)(o.AW,{align:"end",children:S.getAllColumns().filter(e=>e.getCanHide()).map(e=>(0,r.jsx)(o.bO,{className:"capitalize",checked:e.getIsVisible(),onCheckedChange:t=>e.toggleVisibility(!!t),children:e.id},e.id))})]})]}),(0,r.jsx)("div",{className:"rounded-md border",children:(0,r.jsxs)(i.iA,{children:[(0,r.jsx)(i.xD,{children:S.getHeaderGroups().map(e=>(0,r.jsx)(i.SC,{children:e.headers.map(e=>(0,r.jsx)(i.ss,{children:e.isPlaceholder?null:(0,l.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,r.jsx)(i.RM,{children:(null===(a=S.getRowModel().rows)||void 0===a?void 0:a.length)?S.getRowModel().rows.map(e=>(0,r.jsx)(i.SC,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,r.jsx)(i.pj,{children:(0,l.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,r.jsx)(i.SC,{children:(0,r.jsx)(i.pj,{colSpan:u.length,className:"h-24 text-center",children:"No results."})})})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,r.jsx)(c.z,{variant:"outline",size:"sm",onClick:()=>S.previousPage(),disabled:!S.getCanPreviousPage(),children:"Previous"}),(0,r.jsx)(c.z,{variant:"outline",size:"sm",onClick:()=>S.nextPage(),disabled:!S.getCanNextPage(),children:"Next"})]})]})}},459:function(e,t,a){"use strict";a.d(t,{l0:function(){return u},NI:function(){return f},Wi:function(){return FormField},xJ:function(){return g},lX:function(){return j},zG:function(){return N}});var r=a(7437),s=a(2265),l=a(7256),n=a(1865),i=a(9311),o=a(6743),c=a(9213);let d=(0,c.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(o.f,{ref:t,className:(0,i.cn)(d(),a),...s})});h.displayName=o.f.displayName;let u=n.RV,x=s.createContext({}),FormField=e=>{let{...t}=e;return(0,r.jsx)(x.Provider,{value:{name:t.name},children:(0,r.jsx)(n.Qr,{...t})})},useFormField=()=>{let e=s.useContext(x),t=s.useContext(m),{getFieldState:a,formState:r}=(0,n.Gc)(),l=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...l}},m=s.createContext({}),g=s.forwardRef((e,t)=>{let{className:a,...l}=e,n=s.useId();return(0,r.jsx)(m.Provider,{value:{id:n},children:(0,r.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",a),...l})})});g.displayName="FormItem";let j=s.forwardRef((e,t)=>{let{className:a,...s}=e,{error:l,formItemId:n}=useFormField();return(0,r.jsx)(h,{ref:t,className:(0,i.cn)(l&&"text-destructive",a),htmlFor:n,...s})});j.displayName="FormLabel";let f=s.forwardRef((e,t)=>{let{...a}=e,{error:s,formItemId:n,formDescriptionId:i,formMessageId:o}=useFormField();return(0,r.jsx)(l.g7,{ref:t,id:n,"aria-describedby":s?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!s,...a})});f.displayName="FormControl";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e,{formDescriptionId:l}=useFormField();return(0,r.jsx)("p",{ref:t,id:l,className:(0,i.cn)("text-[0.8rem] text-muted-foreground",a),...s})});p.displayName="FormDescription";let N=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e,{error:n,formMessageId:o}=useFormField(),c=n?String(null==n?void 0:n.message):s;return c?(0,r.jsx)("p",{ref:t,id:o,className:(0,i.cn)("text-[0.8rem] font-medium text-destructive",a),...l,children:c}):null});N.displayName="FormMessage"}},function(e){e.O(0,[310,140,293,474,57,233,204,971,864,744],function(){return e(e.s=310)}),_N_E=e.O()}]);